<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.luojj.dao.InvestGroupMapper">
  <resultMap id="BaseResultMap" type="org.luojj.entity.InvestGroup">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="invest_group_id" jdbcType="BIGINT" property="investGroupId" />
    <result column="is_recommend" jdbcType="INTEGER" property="isRecommend" />
    <result column="phone_number" jdbcType="VARCHAR" property="phoneNumber" />
    <result column="product_id" jdbcType="BIGINT" property="productId" />
    <result column="high_risk_id" jdbcType="BIGINT" property="highRiskId" />
    <result column="high_risk_ratio" jdbcType="DECIMAL" property="highRiskRatio" />
    <result column="middle_risk_id" jdbcType="BIGINT" property="middleRiskId" />
    <result column="middle_risk_ratio" jdbcType="DECIMAL" property="middleRiskRatio" />
    <result column="low_risk_id" jdbcType="BIGINT" property="lowRiskId" />
    <result column="low_risk_ratio" jdbcType="DECIMAL" property="lowRiskRatio" />
    <result column="duration" jdbcType="INTEGER" property="duration" />
    <result column="group_rate" jdbcType="DECIMAL" property="groupRate" />
    <result column="group_profit" jdbcType="DECIMAL" property="groupProfit" />
    <result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    invest_group_id, is_recommend, phone_number, product_id, high_risk_id, high_risk_ratio, 
    middle_risk_id, middle_risk_ratio, low_risk_id, low_risk_ratio, duration, group_rate, 
    group_profit, create_time
  </sql>
  
   <select id="getLatestInvestGroup" parameterType="string" resultMap="BaseResultMap">
   select * from (select * from invest_group where  phone_number=#{phoneNumber}) as aa order by create_time desc limit 1;
  </select>
  
  
  <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from invest_group
    where invest_group_id = #{investGroupId,jdbcType=BIGINT}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from invest_group
    where invest_group_id = #{investGroupId,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="org.luojj.entity.InvestGroup">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into invest_group (invest_group_id, is_recommend, phone_number, 
      product_id, high_risk_id, high_risk_ratio, 
      middle_risk_id, middle_risk_ratio, low_risk_id, 
      low_risk_ratio, duration, group_rate, 
      group_profit, create_time)
    values (#{investGroupId,jdbcType=BIGINT}, #{isRecommend,jdbcType=INTEGER}, #{phoneNumber,jdbcType=VARCHAR}, 
      #{productId,jdbcType=BIGINT}, #{highRiskId,jdbcType=BIGINT}, #{highRiskRatio,jdbcType=DECIMAL}, 
      #{middleRiskId,jdbcType=BIGINT}, #{middleRiskRatio,jdbcType=DECIMAL}, #{lowRiskId,jdbcType=BIGINT}, 
      #{lowRiskRatio,jdbcType=DECIMAL}, #{duration,jdbcType=INTEGER}, #{groupRate,jdbcType=DECIMAL}, 
      #{groupProfit,jdbcType=DECIMAL}, #{createTime,jdbcType=TIMESTAMP})
  </insert>
  <insert id="insertSelective" parameterType="org.luojj.entity.InvestGroup">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into invest_group
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="investGroupId != null">
        invest_group_id,
      </if>
      <if test="isRecommend != null">
        is_recommend,
      </if>
      <if test="phoneNumber != null">
        phone_number,
      </if>
      <if test="productId != null">
        product_id,
      </if>
      <if test="highRiskId != null">
        high_risk_id,
      </if>
      <if test="highRiskRatio != null">
        high_risk_ratio,
      </if>
      <if test="middleRiskId != null">
        middle_risk_id,
      </if>
      <if test="middleRiskRatio != null">
        middle_risk_ratio,
      </if>
      <if test="lowRiskId != null">
        low_risk_id,
      </if>
      <if test="lowRiskRatio != null">
        low_risk_ratio,
      </if>
      <if test="duration != null">
        duration,
      </if>
      <if test="groupRate != null">
        group_rate,
      </if>
      <if test="groupProfit != null">
        group_profit,
      </if>
      <if test="createTime != null">
        create_time,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="investGroupId != null">
        #{investGroupId,jdbcType=BIGINT},
      </if>
      <if test="isRecommend != null">
        #{isRecommend,jdbcType=INTEGER},
      </if>
      <if test="phoneNumber != null">
        #{phoneNumber,jdbcType=VARCHAR},
      </if>
      <if test="productId != null">
        #{productId,jdbcType=BIGINT},
      </if>
      <if test="highRiskId != null">
        #{highRiskId,jdbcType=BIGINT},
      </if>
      <if test="highRiskRatio != null">
        #{highRiskRatio,jdbcType=DECIMAL},
      </if>
      <if test="middleRiskId != null">
        #{middleRiskId,jdbcType=BIGINT},
      </if>
      <if test="middleRiskRatio != null">
        #{middleRiskRatio,jdbcType=DECIMAL},
      </if>
      <if test="lowRiskId != null">
        #{lowRiskId,jdbcType=BIGINT},
      </if>
      <if test="lowRiskRatio != null">
        #{lowRiskRatio,jdbcType=DECIMAL},
      </if>
      <if test="duration != null">
        #{duration,jdbcType=INTEGER},
      </if>
      <if test="groupRate != null">
        #{groupRate,jdbcType=DECIMAL},
      </if>
      <if test="groupProfit != null">
        #{groupProfit,jdbcType=DECIMAL},
      </if>
      <if test="createTime != null">
        #{createTime,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="org.luojj.entity.InvestGroup">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update invest_group
    <set>
      <if test="isRecommend != null">
        is_recommend = #{isRecommend,jdbcType=INTEGER},
      </if>
      <if test="phoneNumber != null">
        phone_number = #{phoneNumber,jdbcType=VARCHAR},
      </if>
      <if test="productId != null">
        product_id = #{productId,jdbcType=BIGINT},
      </if>
      <if test="highRiskId != null">
        high_risk_id = #{highRiskId,jdbcType=BIGINT},
      </if>
      <if test="highRiskRatio != null">
        high_risk_ratio = #{highRiskRatio,jdbcType=DECIMAL},
      </if>
      <if test="middleRiskId != null">
        middle_risk_id = #{middleRiskId,jdbcType=BIGINT},
      </if>
      <if test="middleRiskRatio != null">
        middle_risk_ratio = #{middleRiskRatio,jdbcType=DECIMAL},
      </if>
      <if test="lowRiskId != null">
        low_risk_id = #{lowRiskId,jdbcType=BIGINT},
      </if>
      <if test="lowRiskRatio != null">
        low_risk_ratio = #{lowRiskRatio,jdbcType=DECIMAL},
      </if>
      <if test="duration != null">
        duration = #{duration,jdbcType=INTEGER},
      </if>
      <if test="groupRate != null">
        group_rate = #{groupRate,jdbcType=DECIMAL},
      </if>
      <if test="groupProfit != null">
        group_profit = #{groupProfit,jdbcType=DECIMAL},
      </if>
      <if test="createTime != null">
        create_time = #{createTime,jdbcType=TIMESTAMP},
      </if>
    </set>
    where invest_group_id = #{investGroupId,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="org.luojj.entity.InvestGroup">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update invest_group
    set is_recommend = #{isRecommend,jdbcType=INTEGER},
      phone_number = #{phoneNumber,jdbcType=VARCHAR},
      product_id = #{productId,jdbcType=BIGINT},
      high_risk_id = #{highRiskId,jdbcType=BIGINT},
      high_risk_ratio = #{highRiskRatio,jdbcType=DECIMAL},
      middle_risk_id = #{middleRiskId,jdbcType=BIGINT},
      middle_risk_ratio = #{middleRiskRatio,jdbcType=DECIMAL},
      low_risk_id = #{lowRiskId,jdbcType=BIGINT},
      low_risk_ratio = #{lowRiskRatio,jdbcType=DECIMAL},
      duration = #{duration,jdbcType=INTEGER},
      group_rate = #{groupRate,jdbcType=DECIMAL},
      group_profit = #{groupProfit,jdbcType=DECIMAL},
      create_time = #{createTime,jdbcType=TIMESTAMP}
    where invest_group_id = #{investGroupId,jdbcType=BIGINT}
  </update>
  
  
</mapper>